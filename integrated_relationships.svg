<svg width="1400" height="900" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 900">
  <defs>
    <style>
      .diagram-title { font-family: 'Arial', sans-serif; font-size: 24px; font-weight: bold; fill: #2c3e50; }
      .diagram-subtitle { font-family: 'Arial', sans-serif; font-size: 14px; fill: #7f8c8d; }
      .node-title { font-family: 'Arial', sans-serif; font-size: 13px; font-weight: 600; fill: #fff; }
      .node-detail { font-family: 'Arial', sans-serif; font-size: 11px; fill: #fff; }
      .relationship-label { font-family: 'Arial', sans-serif; font-size: 10px; fill: #666; }
      .insight-text { font-family: 'Arial', sans-serif; font-size: 12px; fill: #34495e; }
      
      /* Category colors matching previous visualizations */
      .migration-law-node { fill: #2E4057; }
      .anti-migrant-node { fill: #C1292E; }
      .anti-poor-node { fill: #F39237; }
      .pro-poor-node { fill: #27AE60; }
      .cso-node { fill: #8E44AD; }
      
      /* Relationship line styles */
      .triggers { stroke: #e74c3c; stroke-width: 2; stroke-dasharray: 5,3; }
      .responds-to { stroke: #3498db; stroke-width: 2; stroke-dasharray: 8,4; }
      .contradicts { stroke: #e67e22; stroke-width: 2; stroke-dasharray: 3,3; }
      .reinforces { stroke: #27AE60; stroke-width: 2; }
      .challenges { stroke: #9b59b6; stroke-width: 2; stroke-dasharray: 10,5; }
    </style>
    
    <!-- Gradients for nodes -->
    <radialGradient id="nodeGradient">
      <stop offset="0%" style="stop-color:#fff;stop-opacity:0.3" />
      <stop offset="100%" style="stop-color:#000;stop-opacity:0.2" />
    </radialGradient>
    
    <!-- Drop shadow filter -->
    <filter id="nodeShadow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
      <feOffset dx="2" dy="2" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.4"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <!-- Arrow markers for relationships -->
    <marker id="arrowRed" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c"/>
    </marker>
    
    <marker id="arrowBlue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3498db"/>
    </marker>
    
    <marker id="arrowOrange" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#e67e22"/>
    </marker>
    
    <marker id="arrowGreen" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#27AE60"/>
    </marker>
    
    <marker id="arrowPurple" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#9b59b6"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1400" height="900" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="700" y="40" text-anchor="middle" class="diagram-title">Integrated Policy & Mobilisation Relationships</text>
  <text x="700" y="65" text-anchor="middle" class="diagram-subtitle">Dynamic Interactions Between Laws, Policies, and Social Movements in South Africa (1993-2025)</text>
  
  <!-- Main Diagram Area -->
  <g id="main-diagram" transform="translate(100, 150)">
    
    <!-- Nodes representing each category -->
    
    <!-- Migration Law Node (Top Center) -->
    <g id="migration-law" transform="translate(600, 50)">
      <circle cx="0" cy="0" r="80" class="migration-law-node" filter="url(#nodeShadow)"/>
      <circle cx="0" cy="0" r="78" fill="url(#nodeGradient)"/>
      <text x="0" y="-10" text-anchor="middle" class="node-title">Migration &amp;</text>
      <text x="0" y="5" text-anchor="middle" class="node-title">Asylum Law</text>
      <text x="0" y="20" text-anchor="middle" class="node-detail">1993-2024</text>
    </g>
    
    <!-- Anti-Migrant Mobilisation Node (Left) -->
    <g id="anti-migrant" transform="translate(200, 250)">
      <circle cx="0" cy="0" r="75" class="anti-migrant-node" filter="url(#nodeShadow)"/>
      <circle cx="0" cy="0" r="73" fill="url(#nodeGradient)"/>
      <text x="0" y="-10" text-anchor="middle" class="node-title">Anti-Migrant</text>
      <text x="0" y="5" text-anchor="middle" class="node-title">Mobilisation</text>
      <text x="0" y="20" text-anchor="middle" class="node-detail">Violence &amp; Movements</text>
    </g>
    
    <!-- CSO Counter-mobilisation Node (Right) -->
    <g id="cso-counter" transform="translate(1000, 250)">
      <circle cx="0" cy="0" r="75" class="cso-node" filter="url(#nodeShadow)"/>
      <circle cx="0" cy="0" r="73" fill="url(#nodeGradient)"/>
      <text x="0" y="-10" text-anchor="middle" class="node-title">CSO Counter-</text>
      <text x="0" y="5" text-anchor="middle" class="node-title">mobilisation</text>
      <text x="0" y="20" text-anchor="middle" class="node-detail">Legal &amp; Advocacy</text>
    </g>
    
    <!-- Pro-Poor Policies Node (Bottom Left) -->
    <g id="pro-poor" transform="translate(400, 450)">
      <circle cx="0" cy="0" r="70" class="pro-poor-node" filter="url(#nodeShadow)"/>
      <circle cx="0" cy="0" r="68" fill="url(#nodeGradient)"/>
      <text x="0" y="-5" text-anchor="middle" class="node-title">Pro-Poor</text>
      <text x="0" y="10" text-anchor="middle" class="node-title">Policies</text>
      <text x="0" y="25" text-anchor="middle" class="node-detail">Social grants</text>
    </g>
    
    <!-- Anti-Poor Policies Node (Bottom Right) -->
    <g id="anti-poor" transform="translate(800, 450)">
      <circle cx="0" cy="0" r="70" class="anti-poor-node" filter="url(#nodeShadow)"/>
      <circle cx="0" cy="0" r="68" fill="url(#nodeGradient)"/>
      <text x="0" y="-5" text-anchor="middle" class="node-title">Anti-Poor</text>
      <text x="0" y="10" text-anchor="middle" class="node-title">Policies</text>
      <text x="0" y="25" text-anchor="middle" class="node-detail">Austerity</text>
    </g>
    
    <!-- Relationship Arrows -->
    
    <!-- Migration Law triggers Anti-Migrant Mobilisation -->
    <path d="M 540,80 Q 350,150 260,220" class="triggers" fill="none" marker-end="url(#arrowRed)"/>
    <text x="400" y="140" text-anchor="middle" class="relationship-label">triggers</text>
    
    <!-- Anti-Migrant Mobilisation triggers stricter Migration Law -->
    <path d="M 280,210 Q 400,120 520,90" class="triggers" fill="none" marker-end="url(#arrowRed)"/>
    <text x="400" y="170" text-anchor="middle" class="relationship-label">influences</text>
    
    <!-- CSO challenges Migration Law -->
    <path d="M 940,220 Q 820,120 680,90" class="challenges" fill="none" marker-end="url(#arrowPurple)"/>
    <text x="810" y="140" text-anchor="middle" class="relationship-label">challenges</text>
    
    <!-- CSO responds to Anti-Migrant -->
    <path d="M 925,250 L 275,250" class="responds-to" fill="none" marker-end="url(#arrowBlue)"/>
    <text x="600" y="245" text-anchor="middle" class="relationship-label">responds to violence</text>
    
    <!-- Anti-Poor contradicts Pro-Poor -->
    <path d="M 470,450 L 730,450" class="contradicts" fill="none" marker-end="url(#arrowOrange)"/>
    <path d="M 730,450 L 470,450" class="contradicts" fill="none" marker-end="url(#arrowOrange)"/>
    <text x="600" y="445" text-anchor="middle" class="relationship-label">contradicts</text>
    
    <!-- Anti-Migrant reinforces Anti-Poor -->
    <path d="M 250,310 Q 500,380 740,420" class="reinforces" fill="none" marker-end="url(#arrowGreen)"/>
    <text x="500" y="370" text-anchor="middle" class="relationship-label">reinforces exclusion</text>
    
    <!-- Pro-Poor policies challenged by CSOs for inclusion -->
    <path d="M 460,420 Q 700,350 940,280" class="challenges" fill="none" marker-end="url(#arrowPurple)"/>
    <text x="700" y="340" text-anchor="middle" class="relationship-label">advocates inclusion</text>
    
    <!-- Critical Events Timeline -->
    <g id="timeline" transform="translate(0, 550)">
      <line x1="0" y1="0" x2="1200" y2="0" stroke="#bdc3c7" stroke-width="2"/>
      
      <!-- 2008 Marker -->
      <g transform="translate(400, 0)">
        <circle cx="0" cy="0" r="8" fill="#e74c3c"/>
        <text x="0" y="-15" text-anchor="middle" class="relationship-label" font-weight="600">2008</text>
        <text x="0" y="-25" text-anchor="middle" class="relationship-label">Xenophobic Crisis</text>
      </g>
      
      <!-- 2015 Marker -->
      <g transform="translate(700, 0)">
        <circle cx="0" cy="0" r="6" fill="#e67e22"/>
        <text x="0" y="-15" text-anchor="middle" class="relationship-label" font-weight="600">2015</text>
        <text x="0" y="-25" text-anchor="middle" class="relationship-label">Renewed Violence</text>
      </g>
      
      <!-- 2020 Marker -->
      <g transform="translate(950, 0)">
        <circle cx="0" cy="0" r="6" fill="#3498db"/>
        <text x="0" y="-15" text-anchor="middle" class="relationship-label" font-weight="600">2020</text>
        <text x="0" y="-25" text-anchor="middle" class="relationship-label">COVID-19 Impact</text>
      </g>
    </g>
  </g>
  
  <!-- Legend for Relationship Types -->
  <g id="relationship-legend" transform="translate(100, 780)">
    <text x="0" y="0" class="insight-text" font-weight="600">Relationship Types:</text>
    
    <g transform="translate(0, 20)">
      <line x1="0" y1="0" x2="30" y2="0" class="triggers"/>
      <text x="35" y="4" class="relationship-label">Triggers/Influences</text>
      
      <line x1="150" y1="0" x2="180" y2="0" class="responds-to"/>
      <text x="185" y="4" class="relationship-label">Responds to</text>
      
      <line x1="300" y1="0" x2="330" y2="0" class="contradicts"/>
      <text x="335" y="4" class="relationship-label">Contradicts</text>
      
      <line x1="450" y1="0" x2="480" y2="0" class="reinforces"/>
      <text x="485" y="4" class="relationship-label">Reinforces</text>
      
      <line x1="600" y1="0" x2="630" y2="0" class="challenges"/>
      <text x="635" y="4" class="relationship-label">Challenges</text>
    </g>
  </g>
  
  <!-- Key Insights Panel -->
  <g id="insights" transform="translate(100, 830)">
    <rect x="0" y="0" width="1200" height="50" fill="#ecf0f1" stroke="#95a5a6" stroke-width="1" rx="5"/>
    <text x="20" y="20" class="insight-text" font-weight="600">Key Insights:</text>
    <text x="20" y="38" class="insight-text">• Cyclical relationship between restrictive legislation and xenophobic violence creates escalating exclusion</text>
    <text x="600" y="38" class="insight-text">• Policy contradictions between pro-poor and anti-poor measures affect migrant vulnerability</text>
  </g>
</svg>